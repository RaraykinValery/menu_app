# REST API по работе с меню ресторана

Приложение написано на фреймворке FastAPI.

С помощью данного API можно управлять такими сущностями как:
1. Меню
2. Подменю
3. Блюдо

Каждое подменю связано только с одним меню, а каждое блюдо - только с одним подменю.
При удалении сущности происходит удаление всех зависящих от него сущностей (например, при удалении меню
удалятся все его подменю и все блюда, входящие в его подменю)

Все доступные операции для работы с сущностями можно посмотреть в удобной документации
OpenAPI, которую можно открыть после запуска приложения по пути 127.0.0.1:8000/docs.

Все ручки API покрыты тестами с помощью pytest.

Для ускорения работы приложения используется кэш, реализованный с помощью Redis.
Для кэша реализованы сценарии инвалидации в ответ на изменение базы данных (Postgresql).

В качестве ORM используется SQLAlchemy.

Весь проект покрыть type hintings.

Проект разделён на слои: выделен сервисный слой, в котором содержится бизнес-логика приложения;
а так же созданы репозитории, в которых происходит взаимодействие с базой данных через ORM.

## Запуск приложения

Для запуска проекта необходимо выполнить следующие шаги:

1. Убедитесь, что у вас установлен Docker и Docker Compose.

2. Склонируйте репозиторий на свой локальный компьютер:

```bash
git clone https://github.com/RaraykinValery/menu_app.git
```
3. Перейдите в папку с проектом:

```bash
cd menu_app
```

4. Запустите приложение с помощью Docker Compose:

```bash
docker-compose up -d
```
Опция -d запускает контейнеры в фоновом режиме.

После успешного запуска, приложение будет доступно по адресу http://127.0.0.1:8000 и его можно тестировать через Postman.

5. Остановка проекта

Для остановки приложения выполните следующую команду в корневой директории проекта:

```bash
docker-compose down
```

## Запуск тестов

Чтобы запустить тесты нужно сделать файл run_tests.sh исполняемым:

```bash
sudo chmod +x run_tests.sh
```

И запустить его:

```bash
./run_tests.sh
```
